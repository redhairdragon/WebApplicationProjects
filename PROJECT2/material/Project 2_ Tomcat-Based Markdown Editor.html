<!DOCTYPE html>
<!-- saved from url=(0056)http://oak.cs.ucla.edu/classes/cs144/project2/index.html -->
<html lang="en"><!-- ***IMPORTANT***: This page is autogenerated from a markdown file
         DO NOT EDIT THIS FILE DIRECTLY.
	 Your edits will disappear when this page is regenerated  --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        code{white-space: pre-wrap;}
        span.smallcaps{font-variant: small-caps;}
        span.underline{text-decoration: underline;}
        div.line-block{white-space: pre-line;}
        div.column{display: inline-block; vertical-align: top; width: 50%;}
        pre{background-color:#e7e7e7; border: solid 1px #000000; padding: 5px;}
        code{background-color:#e7e7e7; padding: 1px;}
        div.sourceCode { overflow-x: auto; }
        table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
          margin: 0; padding: 0; vertical-align: baseline; border: none; }
        table.sourceCode { width: 100%; line-height: 100%; }
        td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
        td.sourceCode { padding-left: 5px; }
        code > span.kw { color: #0000ff; } /* Keyword */
        code > span.ch { color: #008080; } /* Char */
        code > span.st { color: #008080; } /* String */
        code > span.co { color: #008000; } /* Comment */
        code > span.ot { color: #ff4000; } /* Other */
        code > span.al { color: #ff0000; } /* Alert */
        code > span.er { color: #ff0000; font-weight: bold; } /* Error */
        code > span.wa { color: #008000; font-weight: bold; } /* Warning */
        code > span.cn { } /* Constant */
        code > span.sc { color: #008080; } /* SpecialChar */
        code > span.vs { color: #008080; } /* VerbatimString */
        code > span.ss { color: #008080; } /* SpecialString */
        code > span.im { } /* Import */
        code > span.va { } /* Variable */
        code > span.cf { color: #0000ff; } /* ControlFlow */
        code > span.op { } /* Operator */
        code > span.bu { } /* BuiltIn */
        code > span.ex { } /* Extension */
        code > span.pp { color: #ff4000; } /* Preprocessor */
        code > span.do { color: #008000; } /* Documentation */
        code > span.an { color: #008000; } /* Annotation */
        code > span.cv { color: #008000; } /* CommentVar */
        code > span.at { } /* Attribute */
        code > span.in { color: #008000; } /* Information */
    </style>
    <link rel="stylesheet" href="./Project 2_ Tomcat-Based Markdown Editor_files/pandoc.css">
    <title>Project 2: Tomcat-Based Markdown Editor</title>
</head>
<body>
<h1 id="project-2-tomcat-based-markdown-editor">Project 2: Tomcat-Based Markdown Editor</h1>
<h2 id="change-history">Change history</h2>
<ol type="1">
<li>1/17/18 9:10AM: Clarification has been added to how to handle requests with invalid (username, postid) pair for open and save actions</li>
<li>1/17/18 9:30AM: Added clarification regarding invalid request handling and security related issues</li>
</ol>
<h2 id="overview">Overview</h2>
<p>In Project 2, we will develop an online "markdown" editor using Apache Tomcat. Through this process we will learn:</p>
<ol type="1">
<li>How to develop a Web application using a "traditional" stack, in particular, MySQL and Apache Tomcat (Java servlet)</li>
<li>How to use CSS to format and layout a Web page</li>
</ol>
<p>In later projects, we will use more "modern" Web development stack, such as MongoDB, Node.js, and Angular, but we want to make sure that everyone has an experience with developing Web applications on a more "traditional" stack. This will help students understand and appreciate why modern frameworks are structured as they are. All development for Project 2 will be done on the "tomcat" container that you created from "junghoo/cs144-tomcat" image in Project 1. Make sure that container still starts and works fine by issuing the following command in a terminal window:</p>
<pre class="term"><code>$ docker start -i tomcat</code></pre>
<h2 id="part-a-learn-apache-tomcat">Part A: Learn Apache Tomcat</h2>
<p>Before starting to code, first learn how we develop a Web application using Apache Tomcat by going over our tutorial:</p>
<ul>
<li><a href="http://oak.cs.ucla.edu/classes/cs144/tomcat/index.html">Developing a Web Application on Tomcat</a>.</li>
</ul>
<p>The tutorial teaches how you can develop a Web application using Java Servlet and JSP, and how you can package the set of files needed for your app into a single Web Application Archive (WAR) file for easy deployment on Tomcat.</p>
<h2 id="part-b-learn-jdbc">Part B: Learn JDBC</h2>
<p>In order to access MySQL data from a Java program, you will need to use JDBC (Java DataBase Connectivity) API. Go over the following tutorial to learn how to use JDBC to access MySQL in a Java program.</p>
<ul>
<li><a href="http://oak.cs.ucla.edu/classes/cs144/jdbc/index.html">A short tutorial on JDBC</a></li>
</ul>
<h2 id="part-c-implement-markdown-editor-and-previewer">Part C: Implement Markdown Editor and Previewer</h2>
<p>Now that you have learned how to develop applications on Tomcat and MySQL, it is time to get your real work done. In Part C, you will need to implement an "online markdown editor" that allows users to save and edit blog posts written in <a href="https://en.wikipedia.org/wiki/Markdown">markdown</a>.</p>
<p><a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> is a lightweight and intuitive markup language originally proposed by John Gruber in 2004 to help people "write using an easy-to-read, easy-to-write plain text format, and optionally convert it to structurally valid XHTML (or HTML)". Due to its simplicity, markdown has become the de-facto standard for writing readme files on many web sites (e.g., <a href="https://github.com/">GitHub</a> and <a href="https://bitbucket.com/">BitBucket</a>). In fact, this page was originally written in markdown and has been converted to HTML using <a href="https://pandoc.org/">Pandoc</a>! Since we will use an <a href="https://github.com/atlassian/commonmark-java">"off-the-shelf" markdown parsing library in Java</a> for this project, you don't have to learn markdown syntax, but in case you are interested, here is a <a href="http://commonmark.org/help/">2-minute introduction to markdown syntax</a>. For your reference, John Gruber's description of markdown syntax is available <a href="https://daringfireball.net/projects/markdown/syntax">here</a> (highly recommended if you want to learn more precise syntax) and the result of recent standardization efforts, referred to as CommonMark, is available <a href="http://spec.commonmark.org/">here</a> (extremely detailed and precise, yet boring to read).</p>
<h3 id="pages-within-your-application">"Pages" Within Your Application</h3>
<p>Your Web site should allows users to create a new post (written in markdown), preview the post (rendered in HTML), and manage existing posts. These tasks are supported through three main pages on your Web site: <em>edit</em>, <em>preview</em>, and <em>list</em> pages</p>
<h4 id="edit-page">Edit page</h4>
<div style="float: right;">
<img src="./Project 2_ Tomcat-Based Markdown Editor_files/edit-page.png" alt="Edit page" style="border: 1px solid;" width="250">
</div>
<p>The "edit page" allows editing the title and body of a post.</p>
<ul>
<li><p>The page should contain two input boxes</p>
<ol type="1">
<li>a <em>title</em> <code>&lt;input&gt;</code> box of <code>text</code> type. This text input element <strong>must</strong> have the ID attribute with value "title".</li>
<li>a <em>body</em> <code>&lt;textarea&gt;</code>. This textarea element <strong>must</strong> have the ID attribute with value "body".</li>
</ol></li>
<li><p>The page should contain four buttons: <em>save</em>, <em>close</em>, <em>preview</em>, and <em>delete</em>. Once pressed,</p>
<ol type="1">
<li>"save" button saves the content of the post to the database and goes to the "list page".</li>
<li>"close" button goes to the "list page" without saving the current content.</li>
<li>"preview" button goes to the "preview page" (without saving the current content).</li>
<li>"delete" button deletes the post from the database and goes to the "list page".</li>
</ol></li>
</ul>
<div style="clear:both;">

</div>
<h4 id="preview-page">Preview page</h4>
<div style="float: right;">
<img src="./Project 2_ Tomcat-Based Markdown Editor_files/preview-page.png" alt="Preview page" style="border: 1px solid;" width="250">
</div>
<p>The "preview page" shows the HTML rendering of a post written in markdown. The page must have a "close" button. Once pressed, close button goes back to the "edit page" of the post.</p>
<div style="clear:both;">

</div>
<h4 id="list-page">List page</h4>
<div style="float: right;">
<img src="./Project 2_ Tomcat-Based Markdown Editor_files/list-page.png" alt="List page" style="border: 1px solid;" width="250">
</div>
<p>The "list page" shows the list of all blog posts saved by the user. The posts in the list should be sorted by their "postid" (a unique integer assigned to a post) in the ascending order. Each item in the list must show:</p>
<ol type="1">
<li>title, creation, and modification dates of the post, and</li>
<li><p>two buttons: <em>open</em> and <em>delete</em>. Once pressed,</p>
<ul>
<li>"open" button goes to the "edit page" for the post.</li>
<li>"delete" button deletes the post from the database and comes back to the list page.</li>
</ul></li>
</ol>
<p>The list page should also contain a "new post" button to allow users to create a new post. Once pressed, the button should lead to the "edit page" for a new post.</p>
<div style="clear:both;">

</div>
<p>To help you better understand the function of the three pages on your site and their interaction model, we made an example demo site available at <a href="http://oak.cs.ucla.edu/editor/post?action=list&amp;username=junghoo" class="uri">http://oak.cs.ucla.edu/editor/post?action=list&amp;username=junghoo</a>. To encourage you to create your own CSS styles for your site, we removed all CSS styling tags in the demo, so it looks ugly. But you can still get an idea of how the three pages should interact and function. For security concerns, we do not perform any update operation to our database. Even if you "delete" a post, for instance, it won't disappear from the list.</p>
<p><strong>Note:</strong> The three "pages" that we described above may not necessarily be three separate HTML pages. Depending on your implementation, they may be implemented as one or more HTML pages, Java servlets and/or JSP pages. You may consider "three pages" as <em>three classes of page layouts</em> that your application should use.</p>
<h3 id="server-side-api">Server-Side API</h3>
<p>In developing your application, you should follow the following <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST API</a>. First, you should make your application available at the following path:</p>
<pre><code>/editor/post?action=type&amp;username=name&amp;postid=num&amp;title=title&amp;body=body</code></pre>
<p>The path is case sensitive. You must use exactly the same case as above both for the the initial path prefix and the parameters. The parameter "action" specifies one of five "actions" that your site has to take: <em>open</em>, <em>save</em>, <em>delete</em>, <em>preview</em>, and <em>list</em>. The other four parameters, username, postid, title, and body are (optional) parameters that the actions may need. Here is detailed descriptions of the five actions -- their functions and required parameters:</p>
<h4 id="open">open</h4>
<ul>
<li>required parameters: username and postid</li>
<li>function: return the "edit page" for the post with the given postid by the user
<ul>
<li>If title and body parameters are missing,
<ul>
<li>if (username, postid) row exists in the database, retrieve the title and body from the database.</li>
<li>otherwise, set the title and body to empty strings.</li>
</ul></li>
<li>If title and body parameters have been passed, use the passed parameter values as the initial title and body values.</li>
</ul></li>
</ul>
<h4 id="save">save</h4>
<ul>
<li>required parameters: username, postid, title, and body</li>
<li>function: save the post into the database and go to the "list page" for the user
<ul>
<li>if postid &lt;= 0
<ul>
<li>assign a new postid, and save the content as a "new post"</li>
</ul></li>
<li>if postid &gt; 0
<ul>
<li>if (username, postid) row exists in the database, update the row with new title, body, and modification date.</li>
<li>if (username, postid) row does not exist, do not make any change to the database</li>
</ul></li>
</ul></li>
</ul>
<h4 id="delete">delete</h4>
<ul>
<li>required parameters: username and postid</li>
<li>function: delete the corresponding post and go to the "list page"</li>
</ul>
<h4 id="preview">preview</h4>
<ul>
<li>required parameters: username, postid, title, and body</li>
<li>function: return the "preview page" with the html rendering of the given title and body</li>
</ul>
<h4 id="list">list</h4>
<ul>
<li>required parameters: username</li>
<li>function: return the "list page" for the user</li>
</ul>
<p><strong>NOTE</strong>: Among the five actions, you should take requests via both GET and POST methods for <em>open</em>, <em>preview</em>, and <em>list</em>, while you should allow <strong>only POST method for <em>save</em> and <em>delete</em></strong>. This is because <em>save</em> and <em>delete</em> leave significant side effects on the server.</p>
<p>In case of confusion, you may want to reference <a href="http://oak.cs.ucla.edu/editor/post?action=list&amp;username=junghoo">our demo site</a>, since it follows the above described API.</p>
<p><strong>NOTE</strong>: During our grading, we won't be doing extensive check for security related issues, but there are two things that we may test:</p>
<ol type="1">
<li><p>Your implementation should do the basic input validation. For example, we do expect that students make sure that postid is integer.</p></li>
<li><p>Your implementation should use <code>preparedStatement</code> in your SQL queries as a basic protection against SQL injection attack. As we mentioned in our JDBC tutorial, we expect students to follow this industry-wise convention, which cannot be overemphasized as a minimal security measure.</p></li>
</ol>
<p>Whatever the user input, it will be important that your implementation won't flake out (like throwing Java exception messages as the output). All requests need to be handled gracefully, however malformed they may be.</p>
<h3 id="database-schema">Database Schema</h3>
<p>All blog posts that are saved by the users must be stored as a row a MySQL table with the following schema:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql">Posts(
    username      <span class="dt">VARCHAR</span>(<span class="dv">40</span>),
    postid        <span class="dt">INTEGER</span>,
    title         <span class="dt">VARCHAR</span>(<span class="dv">100</span>),
    <span class="kw">body</span>          TEXT,
    modified      <span class="dt">TIMESTAMP</span> <span class="kw">DEFAULT</span> <span class="st">'2000-01-01 00:00:00'</span>,
    created       <span class="dt">TIMESTAMP</span> <span class="kw">DEFAULT</span> <span class="st">'2000-01-01 00:00:00'</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(username, postid)
)</code></pre></div>
<p>Hopefully, the meaning of each column would be clear from our earlier discussion. MySQL schema definition is case sensitive, so be careful with the case of your schema definition. Create the table within "CS144" table as the user "cs144". The first blog post of every user must start with postid=1 and their subsequent posts must be assigned to a linearly increasing postid. Therefore, blog posts by different users may share the same postid, but postid is unique within a single user. In implementing your app, you may need to create tables other than the "Posts" table to store other information needed for your app persistently.</p>
<h3 id="skeleton-code">Skeleton Code</h3>
<p>To help you get started, we provide skeleton sample code for this project in <a href="http://oak.cs.ucla.edu/classes/cs144/project2/project2.zip" class="uri">project2.zip</a>, which has the following set of files:</p>
<pre><code>project2.zip
 |
 +- build.gradle
 +- create.sql
 +- deploy.sh
 +- src 
    +- main
        +- java
        |   +- Editor.java
        |
        +- webapp
            +- edit.jsp
            +- WEB-INF
                +- web.xml</code></pre>
<ol type="1">
<li><em>create.sql</em>: This file has has a sequence of SQL commands that create "Posts" table in the CS144 database. If you need to create any additional tables for your app, you will need to add the SQL commands to create them in this file.</li>
<li><em>src/main/java/Editor.java</em>: This is a skeleton Java code for servlet implementation. The provided code simply dispatches the request to <em>edit.jsp</em> page, so you will need to implement your application logic as part of the <code>Editor</code> class, such as connecting to, retrieving from, and updating MySQL database server, and dispatching the user's request to an appropriate JSP page.</li>
<li><em>src/main/webapp/edit.jsp</em>: This is a simple JSP page that contains HTML elements for implementing the "edit page". You will need to update this page according to our earlier specification.</li>
<li><em>src/main/webapp/WEB-INF/web.xml</em>: This is the Tomcat deployment descriptor file prepared for this project. Currently, it sends any request to <code>/editor</code> to the Java class <code>Editor</code>.</li>
<li><em>build.gradle</em> and <em>deploy.sh</em>: These are gradle "build script" and the app deployment script that you can use to build your WAR file and deploy it to Tomcat. We will explain these scripts in more detail in the next section.</li>
</ol>
<h4 id="gradle-build-script">Gradle build script</h4>
<p>As you learned from our <a href="http://oak.cs.ucla.edu/classes/cs144/tomcat/index.html">tutorial on Tomcat</a>, a Web application needs many files that should be carefully prepared and packaged. To help you focus on coding, not packaging, we included a "gradle build script" that takes care of compilation and packaging. To see how it works, unzip <a href="http://oak.cs.ucla.edu/classes/cs144/project2/project2.zip" class="uri">project2.zip</a> into a folder, <code>cd</code> to the folder and run the following command:</p>
<pre class="term"><code>$ gradle assemble</code></pre>
<p>This will compile all your Java source files in the <code>src/main/java/</code> directory (currently, just "Editor.java"), package them together with everything under <code>src/main/webapp</code> directory according to the spec, and create a war file at <code>build/libs/editor.war</code>. Once created, you can copy the war file to <code>$CATALINA_BASE/webapps</code>:</p>
<pre class="term"><code>$ cp build/libs/editor.war $CATALINA_BASE/webapps</code></pre>
<p>to deploy it to the Tomcat server. Copy the file, wait for a few seconds (so that Tomcat detects the new war file and sets it up), and access <a href="http://localhost:8888/editor/post?action=list&amp;username=test" class="uri">http://localhost:8888/editor/post?action=list&amp;username=test</a> from a browser on your host. You will get a (non-functional) version of the "edit page" that has been generated from the <code>edit.jsp</code> page.</p>
<p>As long as you can use our provided gradle build script to compile your code and create the war file, it is okay for you to know nothing about how the gradle build script works. But if you want to learn more, read <a href="https://spring.io/guides/gs/gradle/">one of many online tutorials on Gradle</a>.</p>
<p>Your job now is to write Java code in <code>Editor.java</code> and (optionally) add new JSP, HTML, CSS pages to <code>src/main/webapp</code> in order to implement Online Markdown Editor. If you are not sure how the code in <code>Editor.java</code> works or how to write a JSP page, go over our <a href="http://oak.cs.ucla.edu/classes/cs144/tomcat/index.html">Tomcat Application Development Tutorial</a>. If you are not sure how to access a MySQL database with a Java code, go over our <a href="http://oak.cs.ucla.edu/classes/cs144/jdbc/index.html">JDBC tutorial</a>.</p>
<h4 id="commonmark-java-library">Commonmark Java Library</h4>
<p>To implement the "preview page", you need to "compile" a markdown-formatted input into an HTML-formatted output. For this, you can use the <a href="https://github.com/atlassian/commonmark-java">commonmark Java library</a>. We have already downloaded the library and made it available in our "tomcat" container. Go over the the <a href="https://github.com/atlassian/commonmark-java/blob/master/README.md">README.me file on the library page</a> to learn how to use the library. Roughly, the following Java code</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">import org.commonmark.node.*;</span>
<span class="kw">import org.commonmark.parser.Parser;</span>
<span class="kw">import org.commonmark.renderer.html.HtmlRenderer;</span>
...
Parser parser = Parser.<span class="fu">builder</span>().<span class="fu">build</span>();
HtmlRenderer renderer = HtmlRenderer.<span class="fu">builder</span>().<span class="fu">build</span>();

String markdown = <span class="st">"This is *CS144*"</span>;
String html = renderer.<span class="fu">render</span>(parser.<span class="fu">parse</span>(markdown));  
<span class="co">/* html has the string "&lt;p&gt;This is &lt;em&gt;CS144&lt;/em&gt;&lt;/p&gt;\n" */</span></code></pre></div>
<p>will "compile" the markdown text <code>This is *CS144*</code> into HTML text <code>&lt;p&gt;This is &lt;em&gt;CS144&lt;/em&gt;&lt;/p&gt;</code>.</p>
<h4 id="deployment-script-deploy.sh">Deployment Script <code>deploy.sh</code></h4>
<p>In <a href="http://oak.cs.ucla.edu/classes/cs144/project2/project2.zip" class="uri">project2.zip</a>, we also included our "deployment bash script", deployment.sh, that automates the entire application deployment process. In particular, it (1) creates tables for our application in MySQL (2) build the "editor.war" file and (3) deploy it to the Tomcat server. Once you finish developing your code, make sure that simply running</p>
<pre class="term"><code>$ ./deploy.sh</code></pre>
<p>properly sets up your application. This script will be used to deploy your application during our grading, so it is <strong><em>extremely important</em></strong> to make sure that this script works without any error.</p>
<h2 id="part-d-style-your-application-using-css-optional">Part D: Style Your Application Using CSS (Optional)</h2>
<p>Once you finish developing the functional part of the online markdown editor, the required part of Project 2 is over. But we encourage you to add CSS styling rules to your app, so that the interface is aesthetically more pleasing. This part, however, is completely optional. As long as your code functionally satisfies our requirements, you will get the full score for this project.</p>
<p>There are a number of ways that you can implement styling your site. You can specify the detailed CSS rules all by yourself, without relying on a third-party "CSS frameworks". This will help you learn the intricate detail of the CSS standard. Another way is to use a popular framework for Web page design and styling. For example, <a href="https://getbootstrap.com/">Bootstrap</a> is one of the most popular Web front-end library, based on CSS and Javascript and developed by Twitter. Learning a third-party library will take time and effort, but once learned, they make it significantly simpler to add beautiful and interactive interface to your Web site. The sample page layouts in our earlier screenshots were implemented using <a href="https://www.w3schools.com/w3css/">W3.CSS library</a> developed by <a href="https://www.w3schools.com/">W3schools</a> (which happens to be a favorite of the author because it is lightweight -- only 23KB in size --, relatively easy to learn and use, and adequate for designing simple Web sites. You are welcome to use a third-party CSS framework as long as you make sure that your submission runs on the grader's machine. You can either include the third-party framework in the submission file or link to the public CSS/JS URL(s) in your HTML output.</p>
<p>To recognize the efforts that you may put into this part of the project, we give you as much as 10% extra credit, if your efforts and dedication to this part is clear from your submission.</p>
<h2 id="your-final-submission">Your Final Submission</h2>
<p>Your project must be submitted electronically before the deadline through our <a href="http://ccle.ucla.edu/course/view/18S-COMSCI144-1">CCLE Course Website</a>. Navigate to <em>Sections</em> on left of the page, and click on the <em>Project 2</em> submission section. If you submit multiple times, we will grade only the latest submission.</p>
<h3 id="what-to-submit">What to Submit</h3>
<p>The zip file that you submit must be named <code>project2.zip</code>, created using a zip compression utility (like using "<code>zip -r project2.zip *</code>" command in the container). You should submit this single file project2.zip that has the following packaging structure.</p>
<pre><code>project2.zip
 |
 +- README.txt (optional)
 +- TEAM.txt
 +- deploy.sh
 +- build.gradle
 +- create.sql
 +- edit.png, preview.png, list.png
 +- src 
    +- main
        +- java
        |   +- Editor.java (and other java files that you wrote)
        |
        +- webapp
            +- edit.jsp (and other jsp, css, and html files that you added)
            +- WEB-INF
                +- web.xml</code></pre>
<p>We have already explained what most of the above files are earlier, but your submission should include the following additional files:</p>
<ol type="1">
<li>README.txt: This optional file should include any information that you need to communicate to the grader.</li>
<li>TEAM.txt: This file must include the 9-digit university ID (UID) of every team member, <strong>one UID per line. No spaces or dashes.</strong> Just 9-digit UID per line. If you are working on your own, include just your UID.</li>
<li>edit.png, preview.png, list.png: You need to take screenshots of your edit, preview, and list pages and include them in the zip file.</li>
</ol>
<p>Please ensure that your submission is packaged correctly with all required files. Make sure that each file is correctly named (including its case) and project2.zip contains all files directly, not within a subdirectory. Please do not include complied Java class files or WAR file.</p>
<p>Perhaps, the most important requirement of your submission is that <strong><em>the grader should be able to deploy a fully functional version of your Web site just by running <code>./deploy.sh</code></em></strong> after unzipping your submission. <strong>You may get as small as zero points if the grader encounters an error due to incorrect packaging, missing files, and failure to follow our exact spec.</strong></p>
<h3 id="testing-of-your-submission">Testing of Your Submission</h3>
<p>Grading is a difficult and time-consuming process, and file naming and packaging convention is very important to test your submission without any error. In order to help you ensure the correct packaging of your submission, we have made a "grading script" <a href="http://oak.cs.ucla.edu/classes/cs144/project2/p2_test" class="uri">p2_test</a> available. In essence, the grading script unzips your submission to a temporary directory and deploy your files to Tomcat to test whether they are likely to run OK on the grader's machine. Download the grading script and execute it <em>inside the tomcat container</em>:</p>
<pre class="term"><code>$ ./p2_test project2.zip</code></pre>
<p>(if your project2.zip file is not located in the current directory, you need to add the path to the zip file before project2.zip. You may need to use <code>chmod +x p2_test</code> if there is a permission error.)</p>
<p>You <strong>MUST</strong> test your submission using the script before your final submission to minimize the chance of an unexpected error during grading. Again, significant points may be deducted if the grader encounters an error during grading. When everything runs properly, you will see an output similar to the following from the grading script:</p>
<pre class="term"><code>$ ./p2_test project2.zip
dropping all tables in CS144 database
building and deploying your application...
:clean UP-TO-DATE

BUILD SUCCESSFUL

Total time: 0.86 secs
:compileJava
:processResources NO-SOURCE
:classes
:war
:assemble

BUILD SUCCESSFUL

Total time: 0.894 secs
Finished deploying your app. Sleeping for 30 seconds for Tomcat to pick it up...
Requesting http://localhost:8080/editor/post?action=edit&amp;username=test&amp;postid=0


This is the response from Tomcat. Make sure that it is what you expect
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Edit Post&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div&gt;&lt;h1&gt;Edit Post&lt;/h1&gt;&lt;/div&gt;
    &lt;form&gt;
    ...
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;

SUCCESS!</code></pre> 


</body></html>